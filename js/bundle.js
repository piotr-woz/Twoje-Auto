(()=>{"use strict";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{JS:()=>m,Bq:()=>c,hM:()=>p});const t=[{make:"Opel",model:"Astra",year:2016,mileage:115600,power:"125 KM",fuel:"Benzyna",price:42500,id:"opelAstra1"},{make:"Opel",model:"Astra",year:2019,mileage:122622,power:"125 KM",fuel:"Benzyna",price:52900,id:"opelAstra2"},{make:"Opel",model:"Astra",year:2018,mileage:82527,power:"110 KM",fuel:"Diesel",price:61900,id:"opelAstra3"},{make:"Opel",model:"Corsa",year:2020,mileage:77580,power:"75 KM",fuel:"Benzyna",price:54300,id:"opelCorsa1"},{make:"Opel",model:"Corsa",year:2022,mileage:5300,power:"75 KM",fuel:"Benzyna",price:70800,id:"opelCorsa2"},{make:"Opel",model:"Corsa",year:2023,mileage:20,power:"100 KM",fuel:"Benzyna",price:85200,id:"opelCorsa3"},{make:"Citroen",model:"C4",year:2017,mileage:120040,power:"100 KM",fuel:"Benzyna",price:48800,id:"citroenC4"},{make:"Citroen",model:"Berlingo",year:2018,mileage:168010,power:"130 KM",fuel:"Diesel",price:69700,id:"citroenBerlingo"},{make:"Ford",model:"Mondeo",year:2017,mileage:196570,power:"150 KM",fuel:"Diesel",price:55800,id:"fordMondeo1"},{make:"Ford",model:"Mondeo",year:2019,mileage:92100,power:"150 KM",fuel:"Diesel",price:85400,id:"fordMondeo2"},{make:"Ford",model:"C-MAX",year:2019,mileage:162716,power:"120 KM",fuel:"Diesel",price:61e3,id:"fordCMAX"},{make:"Ford",model:"Puma",year:2022,mileage:19800,power:"125 KM",fuel:"Hybryda",price:93600,id:"fordPuma"},{make:"Ford",model:"Kuga",year:2022,mileage:18689,power:"120 KM",fuel:"Diesel",price:107800,id:"fordKuga"},{make:"Ford",model:"Transit",year:2018,mileage:120358,power:"130 KM",fuel:"Diesel",price:126300,id:"fordTransit"},{make:"BMW",model:"Seria 1",year:2020,mileage:95277,power:"150 KM",fuel:"Diesel",price:96200,id:"bmwSeria1"},{make:"BMW",model:"Seria 3",year:2017,mileage:139578,power:"252 KM",fuel:"Benzyna",price:94600,id:"bmwSeria3"},{make:"BMW",model:"Seria 5",year:2019,mileage:74252,power:"150 KM",fuel:"Diesel",price:124500,id:"bmwSeria5"},{make:"BMW",model:"X1",year:2016,mileage:62030,power:"190 KM",fuel:"Diesel",price:105690,id:"bmwX1"},{make:"Peugeot",model:"Boxer",year:2017,mileage:153433,power:"177 KM",fuel:"Diesel",price:100900,id:"peugeotBoxer"},{make:"Peugeot",model:"Expert",year:2022,mileage:45808,power:"145 KM",fuel:"Diesel",price:133500,id:"peugeotExpert"},{make:"Renault",model:"Clio",year:2019,mileage:114205,power:"90 KM",fuel:"Benzyna",price:49800,id:"renaultClio"},{make:"Renault",model:"Megane",year:2016,mileage:167455,power:"110 KM",fuel:"Diesel",price:46600,id:"renaultMegane1"},{make:"Renault",model:"Megane",year:2019,mileage:83530,power:"116 KM",fuel:"Benzyna",price:68800,id:"renaultMegane2"},{make:"Renault",model:"Scenic",year:2018,mileage:96696,power:"130 KM",fuel:"Diesel",price:75200,id:"renaultScenic"},{make:"Renault",model:"Trafic",year:2020,mileage:106398,power:"120 KM",fuel:"Diesel",price:95500,id:"renaultTrafic1"},{make:"Renault",model:"Trafic",year:2021,mileage:104527,power:"120 KM",fuel:"Diesel",price:102500,id:"renaultTrafic2"},{make:"Audi",model:"A3",year:2018,mileage:144104,power:"150 KM",fuel:"Benzyna",price:85300,id:"audiA3"},{make:"Audi",model:"Q3",year:2017,mileage:89665,power:"150 KM",fuel:"Diesel",price:98200,id:"audiQ3"},{make:"Audi",model:"A4",year:2019,mileage:144758,power:"150 KM",fuel:"Benzyna",price:108e3,id:"audiA4"},{make:"Audi",model:"Q7",year:2015,mileage:192285,power:"218 KM",fuel:"Diesel",price:153900,id:"audiQ7"}],a=function e(){if(e.done)return;const t=document.querySelector(".header_button"),a=document.querySelector('[data-summary="main"]'),l=document.querySelector('[data-summary="box1"]'),s=document.querySelector("#summary_of_purchase_car_img"),c=document.querySelector('[data-summary="box2"]');t.style.display="none",r.style.display="none",a.style.display="block",s.setAttribute("src",`./img/${i}.jpg`);const d=[...document.querySelectorAll(".summary_of_purchase_texts p")],m=[];var u;m.push(`Dziękujemy za zakup samochodu ${n}`),m.push(`Auto zostanie dostarczone ${u=o.value,u.split("-").reverse().join("/")}`),m.push(`Wybrana metoda płatności: ${localStorage.getItem("value")}`),m.push(`Cena auta wraz z akcesoriami: ${p(localStorage.getItem("totalPrice"))}`);let y=-4,g=0;function _(){if(y>=0&&(d[g].textContent+=m[g][y]),y++,y===m[g].length){if(g++,g===m.length)return;return setTimeout((()=>{y=-4,_()}),400)}setTimeout(_,25)}const f=document.querySelectorAll(".summary_of_purchase_texts p"),h=document.querySelector(".summary_of_purchase_texts");function v(){l.classList.remove("col-lg-7"),l.classList.add("col-lg-6"),c.classList.remove("col-lg-5"),c.classList.add("col-lg-6"),f.forEach((e=>e.style.margin="3px 0")),h.style.left="115%",h.style.width="75%"}window.innerWidth>992?(window.innerWidth<1400&&(window.innerWidth/window.innerHeight>1.96?(v(),s.style.width="75%",s.style.position="relative",s.style.left="5%"):window.innerWidth/window.innerHeight>1.79?v():window.innerWidth/window.innerHeight>1.77&&f.forEach((e=>e.style.margin="3px 0"))),setTimeout((()=>{l.classList.remove("summary_of_purchase_box1_start"),l.classList.add("summary_of_purchase_box1_end")}),500),setTimeout((()=>{c.classList.remove("summary_of_purchase_box2_start"),c.classList.add("summary_of_purchase_box2_end")}),1500),setTimeout((()=>{const e=document.querySelector('[data-summary="h_line"]');e.classList.remove("horizontalLine_start"),e.classList.add("horizontalLine_end")}),2500),setTimeout((()=>{const e=document.querySelector('[data-summary="v_line"]');e.classList.remove("verticalLine_start"),e.classList.add("verticalLine_end")}),2500),setTimeout(_,3200)):_(),localStorage.clear(),e.done=!0},r=document.querySelector(".chosen_car_form"),o=document.querySelector("#date");let i,n;const l=function(){const e=document.querySelector(".header_button"),t=document.querySelector(".cars_search_engine"),l=document.querySelector(".cars_sort_engine"),s=document.querySelector(".cars_search_banner"),d=document.querySelector("footer"),u=document.querySelector("#name"),y=document.querySelector("#address"),g=document.querySelector("#chosen_car_form_img"),_=document.querySelector("#chosen_car_main_form"),f=document.querySelector("#chosen_car_text_form p:nth-of-type(1)"),h=document.querySelector("#chosen_car_text_form p:nth-of-type(2)"),v=document.querySelector("#backButton"),w=document.querySelector("#buyButton"),k=document.querySelector("#alert"),S=document.querySelector("#car_accessory_1_text"),b=document.querySelector("#car_accessory_2_text"),M=document.querySelector("#car_accessory_1_button"),L=document.querySelector("#car_accessory_2_button");function q(){const e=new Date,t=new Date,a=new Date,r=e.getDay();t.setDate(e.getDate()+15);const i=t.toISOString().split("T")[0];a.setDate(e.getDate()+14);const n=a.toISOString().split("T")[0];0===r?(o.min=i,o.value=i):(o.min=n,o.value=n),o.addEventListener("change",(e=>{0===new Date(e.target.value).getDay()?(k.textContent="Niedziele są niedostępne - wprowadź inny dzień",setTimeout((()=>{k.textContent=null}),3e3),e.target.value=0===r?i:n,localStorage.setItem("date",e.target.value)):localStorage.setItem("date",e.target.value)}))}m.forEach((e=>e.style.display="none")),c.style.minHeight="auto",e.style.visibility="hidden",e.style.height="0px",e.style.marginTop="0px",e.style.marginBottom="0px",t.style.display="none",l.style.display="none",s.style.display="none",d.style.display="none",r.style.display="flex",g.setAttribute("src",`./img/${this.dataset.car_id}.jpg`),function(){const e=localStorage.getItem("value");for(const t of _.payment)t.value===e&&t.setAttribute("checked",!0)}(),function(){const e=localStorage.getItem("name"),t=localStorage.getItem("address");u.value=e,y.value=t}(),localStorage.getItem("date")?(q(),function(){const e=localStorage.getItem("date");o.value=e}()):q();for(const e of _.payment)e.addEventListener("change",(e=>localStorage.setItem("value",e.target.value)));u.addEventListener("input",(e=>localStorage.setItem("name",e.target.value))),y.addEventListener("input",(e=>localStorage.setItem("address",e.target.value))),i=this.dataset.car_id,n=`${this.dataset.car_make} ${this.dataset.car_model}`;const x=`${this.dataset.car_make} ${this.dataset.car_model} (${this.dataset.car_year})`,B=Number(`${this.dataset.car_price}`);f.innerText=`Wybrane auto: ${x}`,h.innerText=`Cena całkowita: ${p(B)}`;let C=B;localStorage.setItem("totalPrice",C);let K=!1,$=!1;function z(e,t,a,r){e?(t.classList.add("green_text"),a.classList.add("green_button"),C+=r):(t.classList.remove("green_text"),a.classList.remove("green_button"),C-=r),function(e){h.innerText=`Cena całkowita: ${p(e)}`}(C),localStorage.setItem("totalPrice",C)}M.addEventListener("click",(()=>{K=!K,z(K,S,M,1500)})),L.addEventListener("click",(()=>{$=!$,z($,b,L,5e3)})),v.addEventListener("click",(()=>{e.style.visibility="visible",e.style.height="39.6px",e.style.marginTop="10px",e.style.marginBottom="10px",t.style.display="block",l.style.display="block",s.style.display="block",d.style.display="block",r.style.display="none",m.forEach((e=>e.style.display="block")),c.style.minHeight="100vh",S.classList.remove("green_text"),M.classList.remove("green_button"),b.classList.remove("green_text"),L.classList.remove("green_button")})),w.addEventListener("click",(()=>{function e(e){return!0!==/\d/.test(e)&&2===e.trim().split(" ").length}""!==u.value&&(e(u.value)?_.addEventListener("submit",(e=>{e.preventDefault(),a()})):(_.addEventListener("submit",(e=>{e.preventDefault()})),k.textContent="Błąd! Wpisz poprawne imię i nazwisko.",u.style.backgroundColor="rgb(255, 182, 182)",u.focus(),u.addEventListener("input",(t=>{e(t.target.value)&&(k.textContent=null,u.style.backgroundColor="rgb(248, 248, 255)")}))))})),g.addEventListener("click",(()=>{if(window.innerWidth>992){const e=document.querySelector(".chosen_car_img_zoom");e.style.display="block",e.classList.add("img_zoom_background_color");const t=document.querySelector(".chosen_car_img_zoom div"),a=document.querySelector(".chosen_car_img_zoom p");t.style.backgroundImage=`url(./img/${i}.jpg)`,setTimeout((()=>{t.classList.add("img_zoom_move_down")}),50);const r=a=>{27!==a.keyCode&&"click"!==a.type||(e.style.display="none",t.classList.remove("img_zoom_move_down"))};window.addEventListener("keydown",r),a.addEventListener("click",r)}}))},s=document.querySelector(".cars_search_banner_symbols_box"),c=document.querySelector("main"),d=t.sort((()=>.5-Math.random()));let m,u;function p(e){return`${e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} PLN`}function y(e){return`\n        <section class="list_of_cars col-sm-6 col-xl-4" data-car_id="${e.id}" data-car_make="${e.make}" data-car_model="${e.model}" data-car_year="${e.year}" data-car_price="${e.price}">\n            <figure class="rounded">\n                <div>\n                    <img id="carImage" class="rounded-top" src="./img/${e.id}.jpg">\n                    <div id="blueLineAtTheBottom"></div> \n                </div>\n                <figcaption class="car_info rounded-bottom">\n                    <p>${e.make} ${e.model}</p>\n                    <p>${p(e.price)}</p>\n                    <div> \n                        <p><i class="fas fa-calendar-alt"></i> ${e.year}</p>\n                        <p><i class="fas fa-gas-pump"></i> ${e.fuel}</p>\n                        <p><i class="fas fa-bolt"></i> ${e.power}</p>\n                        <p><i class="fas fa-road"></i> ${t=e.mileage,`${t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")} km`}</p>  \n                    </div>\n                </figcaption>\n            </figure>\n        </section>\n    `;var t}function g(){m=document.querySelectorAll(".list_of_cars"),m.forEach((e=>e.addEventListener("click",l)))}function _(){for(let e of d)c.innerHTML+=y(e);g(),u=d}function f(...e){for(let t=0;t<e.length;t++){const a=document.createElement("img");a.src=`./img/${e[t]}.png`,s.appendChild(a)}e.length<4?s.style.justifyContent="space-around":s.style.justifyContent="space-between"}function h(){s.innerHTML=""}function v(e){m.forEach((e=>e.remove()));const a=t.filter((t=>t.make===e));for(let e of a)c.innerHTML+=y(e);g(),u=a}"started"===sessionStorage.getItem("banner")?setTimeout((()=>document.querySelector(".starting_page").style.display="none"),800):function(){const e=document.querySelector(".starting_page"),t=document.querySelector(".starting_page_text"),a=document.querySelector(".starting_page div");setTimeout((()=>{const e="mamy wszystkie samochody, które warto kupić...";let r=0;const o=setInterval((()=>{t.textContent+=e[r],r++,46===r&&clearInterval(o)}),50);a.classList.remove("blue_line_at_the_starting_page_bottom_start"),a.classList.add("blue_line_at_the_starting_page_bottom_end")}),500),setTimeout((()=>e.remove()),5e3),sessionStorage.setItem("banner","started")}(),setTimeout((()=>{_(),f("Audi","BMW","Citroen","Ford","Opel","Peugeot","Renault")}),200);const w=document.getElementById("cars_search_list");function k(e){let t;m.forEach((e=>e.remove())),"lowPrice"===e?t=u.sort(((e,t)=>e.price-t.price)):"highPrice"===e?t=u.sort(((e,t)=>t.price-e.price)):"lowMileage"===e?t=u.sort(((e,t)=>e.mileage-t.mileage)):"highMileage"===e&&(t=u.sort(((e,t)=>t.mileage-e.mileage)));for(let e of t)c.innerHTML+=y(e);g()}w.addEventListener("change",(()=>{switch(w.value){case"0":m.forEach((e=>e.remove())),h(),_(),f("Audi","BMW","Citroen","Ford","Opel","Peugeot","Renault");break;case"1":v("Audi"),h(),f("Audi","Audi","Audi");break;case"2":v("BMW"),h(),f("BMW","BMW","BMW");break;case"3":v("Citroen"),h(),f("Citroen","Citroen","Citroen");break;case"4":v("Ford"),h(),f("Ford","Ford","Ford");break;case"5":v("Opel"),h(),f("Opel","Opel","Opel");break;case"6":v("Peugeot"),h(),f("Peugeot","Peugeot","Peugeot");break;case"7":v("Renault"),h(),f("Renault","Renault","Renault")}}));const S=document.getElementById("cars_sort_list");S.addEventListener("change",(()=>{switch(S.value){case"1":k("lowPrice");break;case"2":k("highPrice");break;case"3":k("lowMileage");break;case"4":k("highMileage")}})),document.querySelector(".company_logo").addEventListener("click",(()=>history.go()))})();